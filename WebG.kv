HomePageScreen:

<ShareLocPopUpContent>:
    orientation: "vertical"
    spacing: dp(4)
    padding: dp(10), 0
    padding: 0, self.height / 3
    size_hint_y: None
    height: dp(120)
    MDTextField:
        hint_text: 'Phone Number'
    MDTextField:
        hint_text: 'PS Number'
    MDGridLayout:
        cols: 2
        #size_hint_x: .1
        #width: dp(20)
        pos_hint: {"right": 1.8}
        MDFlatButton:
            text: 'cancel'
            on_release: app.popup_dismiss()
        MDFlatButton:
            text: 'share'

<Map>:
    MapView:
        lat: 10.303193
        lon: 9.832808
        zoom: 19
        MapMarkerPopup:
            lat: 10.303193
            lon: 9.832808



<HomePageScreen>:
    id: manager

    MDScreen:
        name: 'test'
        MDScreenManager:
            id: sm
            mode: "push"
            MDScreen:
                id: screen
                name: 'home_screen'
                Map:
                MDCard:
                    md_bg_color: "100E5D"
                    size_hint_y: None
                    height: dp(45)
                    pos_hint: {"top": 1}
                    radius: 0
                MDIconButton:
                    icon: 'dots-vertical'
                    pos_hint: {"top": 1}
                    on_release: root.openMenu(self)
                MDGridLayout:
                    cols: 6
                    pos_hint: {"top": 1, "right": 1}
                    size_hint_x: 1
                    padding: 0,0,dp(20),0
                    MDBoxLayout:
                        size_hint_x: None
                        width: dp(50)
                    MDBoxLayout:
                        padding: dp(3),dp(10),0,0
                        size_hint: 4.5,1
                        TextInput:
                            id: show_textfield
                            text: ""
                            hint_text: 'Search'
                            pos_hint: {"top": 1}
                            disabled: True
                            opacity: 0
                            size_hint: (0, 0)
                            height: dp(28)
                            padding: dp(15), dp(4), 0, dp(4)
                            foreground_color: [0,0,0,1]
                            background_color: [1,1,1,1]
                            background_normal: ""
                            #background_active: "#b71c1c"
                            multiline: False
                            font_size: sp(16)
                            border: [10,10,10,10]
                            on_focus:
                                if self.focus: root.focus = True
                                else: root.sch_dismiss()
                            canvas.after:
                                Color:
                                    rgba: 1,1,1,.5
                                RoundedRectangle:
                                    #source: "Assets/Pic/grey.png"
                                    pos: self.pos
                                    size: self.size

                    MDBoxLayout:
                        padding: dp(5),0,0,0
                        MDIconButton:
                            id: magnify_btn_disabled
                            icon: 'magnify'
                            icon_size: sp(22)
                            pos_hint: {"top": 1}
                            disabled: False
                            on_release:
                                root.animate_textfield()

                    MDBoxLayout:
                        padding: 0,dp(0),0,0
                        MDIconButton:
                            icon: 'antenna'
                            theme_icon_color: 'Custom'
                            disabled_color: (0,1,0,1)
                            icon_size: sp(20)
                            disabled: True
                            pos_hint: {"top": 1}
                    MDBoxLayout:
                        MDIconButton:
                            icon: 'human-greeting-proximity'
                            icon_size: sp(20)
                            pos_hint: {"top": 1}
                            on_release: app.share_loc_popup()
                    MDBoxLayout:
                        MDIconButton:
                            icon: 'bell-outline'
                            icon_size: sp(20)
                            pos_hint: {"top": 1, "right": 1}
                            on_release: root.current = "notification"

            MDScreen:
                name: 'tour_screen'
                #md_bg_color: ''
                MDBoxLayout:
                    orientation: "vertical"
                    Button:
                        text: "get bttr state"
                        on_release: root.get_bttr()
                    MDLabel:
                        text: root.lbll
                        halign: "center"
                    MDLabel:
                        id: btr_bl
                        text:
                        halign: "center"
            MDScreen:
                name: 'chat_screen'
                md_bg_color: 'yellow'
            MDScreen:
                name: 'tools_screen'
                md_bg_color: 'orange'

        MDCard:
            md_bg_color: "100E5D"  #'#263238'
            size_hint_y: None
            height: dp(45)
            radius: 0
            elevation: 2
            MDGridLayout:
                padding: dp(5),dp(20),0,0
                cols: 4
                MDBoxLayout:
                    orientation: 'vertical'
                    MDIconButton:
                        id: hm_btn
                        icon: 'home'
                        theme_icon_color: 'Custom'
                        icon_color: '#2962FF'
                        icon_size: sp(27)
                        on_release:
                            sm.current = "home_screen"
                            root.set_icon_color(self)
                    MDBoxLayout:
                        padding: dp(12),0,0,dp(10)
                        MDLabel:
                            text: 'Home'
                            font_size: sp(12)
                            theme_text_color: 'Custom'
                            text_color: hm_btn.icon_color
                MDBoxLayout:
                    orientation: 'vertical'
                    spacing: dp(3.5)
                    MDIconButton:
                        id: tour
                        icon: 'city-variant-outline'
                        icon_size: sp(25)
                        theme_icon_color: 'Custom'
                        icon_color: '#B0BEC5'
                        on_release:
                            sm.current = "tour_screen"
                            root.set_icon_color(self)
                    MDBoxLayout:
                        padding: dp(13),0,0,dp(10)
                        MDLabel:
                            text: 'Tour'
                            font_size: sp(12)
                            theme_text_color: 'Custom'
                            text_color: tour.icon_color
                MDBoxLayout:
                    orientation: 'vertical'
                    MDIconButton:
                        id: chat
                        icon: 'wechat'
                        icon_size: sp(27)
                        theme_icon_color: 'Custom'
                        icon_color: '#B0BEC5'
                        on_release:
                            sm.current = "chat_screen"
                            root.set_icon_color(self)
                    MDBoxLayout:
                        padding: dp(13),0,0,dp(10)
                        MDLabel:
                            text: 'Chat'
                            font_size: sp(12)
                            theme_text_color: 'Custom'
                            text_color: chat.icon_color
                MDBoxLayout:
                    orientation: 'vertical'
                    spacing: dp(2)
                    MDIconButton:
                        id: friend
                        icon: 'account-multiple-outline'
                        icon_size: sp(26.5)
                        theme_icon_color: 'Custom'
                        icon_color: '#B0BEC5'
                        on_release:
                            sm.current = "tools_screen"
                            root.set_icon_color(self)
                    MDBoxLayout:
                        padding: sp(10),0,0,sp(10)
                        MDLabel:
                            text: 'Friends'
                            font_size: sp(12)
                            theme_text_color: 'Custom'
                            text_color: friend.icon_color

    MDScreen:
        name: 'profile_page_screen'
        SignUpScreen:
        MDIconButton:
            icon: 'arrow-left'
            pos_hint: {"top": 1}
            on_release: root.current = "test"
    MDScreen:
        name: 'setting_screen'
        md_bg_color: 'green'
        MDIconButton:
            icon: 'arrow-left'
            pos_hint: {"top": 1}
            on_release: root.current = "test"
        MDLabel:
            text: 'Settings screen'
            halign: 'center'
            font_size: sp(40)
    MDScreen:
        name: 'notification'
        md_bg_color: 'brown'
        MDIconButton:
            icon: 'arrow-left'
            pos_hint: {"top": 1}
            on_release: root.current = "test"
        MDLabel:
            text: 'Notifications'
            halign: 'center'
            font_size: sp(40)


<HomePageContents>:
    MDScreenManager:
        id: sub_sm

        MDScreen:
            name: 'map_screen'
            MDLabel:
                text: root.text
                halign: 'center'
                font_size: sp(40)
            MDGridLayout:
                cols: 3
                padding: 0,dp(2),dp(5),0
                spacing: dp(0)
                md_bg_color: 1,1,1,.4



<SignUpScreen>:
    orientation: "vertical"

    canvas:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            source: "Assets/Pic/images.jpeg"
            pos: self.pos
            size: self.size
    MDBoxLayout:
        size_hint: .8, .5
        pos_hint: {"center_x": .5, "center_y": .5}
        MDCard:
            id: cd
            md_bg_color: (0,0,0,.2)
            size_hint: .5, .8
            pos_hint: {"center_x": .5, "center_y": .5}
            MDGridLayout:
                rows: 8
                padding: dp(20), dp(0), dp(20), root.height / 8
                pos_hint: {"center_x": .5, "center_y": .5}
                MDBoxLayout:
                    orientation: "vertical"
                    #size_hint: 1, .5
                    pos_hint: {"center_x": 1}
                    padding: dp(50),0,0,0
                    MDIconButton:
                        icon: 'alert-octagon'
                        pos_hint: {"right": 1.02}
                BoxLayout:
                    canvas.before:
                        Color:
                            rgba: 1,1,1,.3
                        RoundedRectangle:
                            source: "Assets/Pic/images.jpeg"
                            pos: self.pos
                            size: self.size
                    MDLabel:
                        text: 'Create Account'
                        halign: 'center'
                        font_style: 'H5'
                        bold: True

                MDBoxLayout:
                    MDTextField:
                        hint_text: "First Name"
                        hint_text_color_focus: 'green'
                        line_color_focus: 0,1,0,1
                MDBoxLayout:
                    MDTextField:
                        hint_text: "Last Name"
                        hint_text_color_focus: 'green'
                        line_color_focus: 0,1,0,1
                MDBoxLayout:
                    MDTextField:
                        hint_text: "Phone no: "
                        hint_text_color_focus: 'green'
                        line_color_focus: 0,1,0,1
                MDBoxLayout:
                    MDTextField:
                        hint_text: "Password"
                        hint_text_color_focus: 'green'
                        line_color_focus: 0,1,0,1
                        password: True
                MDBoxLayout:
                    spacing: sp(4)
                    MDBoxLayout:
                        size_hint_x: None
                        width: dp(50)
                        MDLabel:
                            text: 'PS No:'
                            bold: True
                    MDBoxLayout:
                        size_hint_x: 1
                        padding: dp(20),0,0,0
                        canvas.before:
                            Color:
                                rgba: 0,0,.1,.3
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size
                        MDLabel:
                            text: 'Ahmad'
                            bold: True
                            allow_copy: True

                            theme_text_color: 'Custom'
                            text_color: 'green'

                MDBoxLayout:
                    MDFillRoundFlatButton:
                        text: 'Summit'
                        size_hint: 1, .5
                        theme_icon_color: 'Custom'
                        md_bg_color: "171484"


